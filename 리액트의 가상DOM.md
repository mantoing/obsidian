---
날짜: '"2024-02-06"'
넘버: 
태그: 
출처: 
aliases:
---
### 날짜  2024-02-06 23:58

### 태그:

>[!메모]
>

### 원문
---

### **DOM (Document Object Model)

영어 뜻풀이 그대로 말하면 문서 객체 모델을 의미한다.

문서 객체란 html, head, body와 같은 태그들을 javascript가 메모리에 보관할수 있는 즉 이용할 수 있는 객체를 의미한다.

> 웹 페이지를 이루는 태그들을 자바스크립트가 이용할 수 있게 브라우저가 트리구조로 만든 객체 모델을 의미한다.

DOM tree 안에는 각각의 엘리멘트에 상응하는 노드가 들어있는데 개발자들은 DOM이 제공하는 API를 통해 DOM구조에 접근을 하고 원하는 엘리멘트를 입맛대로 조작할 수 있다.

![](https://blog.kakaocdn.net/dn/nxDKD/btrXrTQmHjX/9bB2mLXRjxizA9nGBgUPZ1/img.png)

그렇다면 이 글에서 다뤄볼 가상DOM이 왜 나온것일까 ? 

**DOM의 단점**

1. 동적 UI에 최적화되어 있지 않다는 단점이 있다.
2. HTML자체적으로는 정적이어서 이것을 javascript로 동적으로 만든다.
3. 리액트를 제작한 페이스북의 페이지는 스크롤바를 내릴수록 수많은 데이터가 로딩되는데 데이터를 표현하는 요소가 너무 많아 직접적으로 접근하여 변화를 주다보면 성능 이슈가 발생해서 조금씩 느려진다.
4. DOM을 조작할 때마다 엔진이 웹페이지를 새로 그리기 때문에 업데이트가 너무 낮으면 성능이 저하된다.

이런 상황에 문제점을 느낀 페이스북에서 편하게 사용하기 위해서 리액틑 새롭게 만든다.

쉽게 말하여 
개발자가 `<h3>` 태그를 찾는 코드를 변수에 저장해놓고 사용하지 않는고 매번 h1에 관련된 접근 메서드를 사용한다면 수많은 document 객체들을 전부 흝으며 찾는 현상이 발생되고 이것은 메모리 누수로 이어진다.
또, DOM의 변화가 일어난다면 css를 다시 연산하고 레이아웃을 구성하고 웹페이지를 다시 그려주는 곳에서도 시간이 든다.

> 브라우저 로딩 과정 중 스타일 이후의 과정
> 스타일 -> 레이아웃 -> 페인트 -> 합성 
> 위 과정을 렌더링이라고 한다.
> 그리고 이 렌더링 과정은 상황에 따라 반복하여 발생할 수 있다.
> 돔이 추가되거나 삭제, 혹은 태그의 위치가 변하는 경우 렌더링이 일어난다.


### **Virtual Dom**

위의 문제점들을 해결하기 위해서 DOM업데이트를 추상화 시켜놓은 것이다.
변화가 일어나면, 실제로 브라우저의 DOM에 새로운 것을 넣는 것이 아니라, 자바스크립트로 이뤄진 가상 DOM에 한번 렌더링을 하고, 기존의 DOM과 비교를 한 다음에 정말 변화가 필요한 곳에서만 업데이트를 한다.

> 실제 (무거운)DOM의 가벼운 사본 같은 개념

과정

1. 변화가 일어남 -> 변화된 버전을 가상돔으로 변경
	- 데이터가 업데이트 되면 전체 UI를 가상돔에 리렌더링 한다.

2. 가상돔끼리 비교
	- 변화 전의 가상돔과 변화된 가상돔을 비교한다.

3. 바뀐부분만 적용
	- 바뀐 부분만 실제 돔에 적용을 함으로서 레이아웃 계산은 한 번만 이행된다.


![](https://velog.velcdn.com/images%2Fmollog%2Fpost%2Ffdc15800-579c-457c-aa26-3b4c916c9c1e%2Fimage.png)

msw는 서비스 워커를 사용하여 네트워크 호출을 가로채는 api모킹 라이브러리이다, 쉽게 말해. 브라우저에 기생해서 마치 백엔드 api인 척하면서 프론트엔드의 요청에 가짜 데이터를 으답해주는 역할을 한다,

서비스 워커를 사용하면 브라우저로 부터 나가는 요텅이나 들어오는 응답을 중간에서 감시하거나 변조, 캐싱과 같은 기존에 웹에서 할수 없었던 부가적인 작업들을 할 수있다. msw는 이러한 서비스 워커의 능력을 백분 활용하여 웹 개발에 있어서 api모킹의 수준을 한 단ㄷ계 올려놓았다고 평가받으며 출시되자 마자 큰 호응을 얻고 있다.



---
### 생각(파생된 질문/생각)

### 출처

### 연결 문서 (연결 이유)